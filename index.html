<!--Author: Kyler Bailey
    Date: September 26, 2025
    Description: Initial creation of the AffordRX website to help users find affordable prescriptions in South Carolina.-->


<!-- Maybe add some way to have a multilanguage support -->
<!-- Add an AI chatbot for user assistance -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Security headers (meta-based; prefer setting these as HTTP response headers on the server/CDN) -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://unpkg.com https://cdnjs.cloudflare.com; style-src 'self' https://unpkg.com; img-src 'self' data: https:; font-src 'self' https://unpkg.com https://cdnjs.cloudflare.com; connect-src 'self'; object-src 'none'; base-uri 'self'; frame-ancestors 'none';">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta name="permissions-policy" content="geolocation=(), microphone=(), camera=()">
    <title>AffordRX - Find Affordable Prescriptions in South Carolina</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css">
    <!-- Load Leaflet first, then PapaParse, then our script which depends on them -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="script.js" defer></script>
</head>
<body>
    <div class="container">

<!--Header of the page-->
        <header>
            <h1>AffordRX</h1>
            <p class="subtitle">Find the Best Prescription Drug Prices Across South Carolina</p>
            
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="pharmacyCount">16+</div>
                    <div class="stat-label">Pharmacies</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgSavings">32%</div>
                    <div class="stat-label">Average Savings</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="searchesCount">1K+</div>
                    <div class="stat-label">Price Searches</div>
                </div>
            </div>
        </header>

<!-- Search Form Section -->
        <div class="search-section">
            <form class="search-form" id="searchForm">
                <div class="form-group">
                    <label for="medication">Medication Name</label>
                    <div class="combo">
                        <input type="text" id="medication" list="medicationList" placeholder="Enter medication name (e.g., Ibuprofen, Miralax)" required>
                        <span class="combo-arrow" aria-hidden="true">‚ñæ</span>
                    </div>
                    <datalist id="medicationList"></datalist>
                </div>
                <div class="form-group">
                    <label for="dosage">Dosage</label>
                    <select id="dosage" required>
                        <option value="">Select dosage</option>
                        <option value="2.5mg">2.5mg</option>
                        <option value="5mg">5mg</option>
                        <option value="10mg">10mg</option>
                        <option value="20mg">20mg</option>
                        <option value="25mg">25mg</option>
                        <option value="50mg">50mg</option>
                        <option value="75mg">75mg</option>
                        <option value="100mg">100mg</option>
                        <option value="150mg">150mg</option>
                        <option value="200mg">200mg</option>
                        <option value="250mg">250mg</option>
                        <option value="500mg">500mg</option>
                        <option value="1000mg">1000mg</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="quantity">Quantity</label>
                    <select id="quantity" required>
                        <option value="">Select quantity</option>
                        <option value="30">30 tablets</option>
                        <option value="60">60 tablets</option>
                        <option value="90">90 tablets</option>
                        <option value="180">180 tablets</option>
                    </select>
                </div>
                <button type="submit" class="search-btn">Search Prices</button>
            </form>
            <div id="usualDosage" class="dosage-hint" aria-live="polite" hidden></div>
        </div>

        <div class="main-content">
            <div class="map-section">
                <h2 class="section-title">Pharmacy Locations</h2>
                <div id="map"></div>
            </div>

            <div class="results-section">
                <h2 class="section-title">Price Comparison</h2>
                <div id="results">
                    <div class="no-results">
                        Enter a medication above to find the best prices near you
                    </div>
                </div>
            </div>
        </div>

        
    <!-- Money-Saving Resources Section -->
        <div class="resources-section">
            <h2 class="resources-title">Money-Saving Resources</h2>
            <div class="resource-grid">
                <div class="resource-card">
                    <h3>üè•üõ°Ô∏è Need Health Insurance?</h3>
                    <p>Need Health Insurance? Access a trusted community team that provides free, personalized help for South Carolinians.</p>
                    <a href="https://www.rucoveredsc.org/" target="_blank" rel="noopener noreferrer" class="resource-link">Visit RUCoveredSC ‚Üí</a>
                </div>


                <div class="resource-card">
                    <h3>üí≥ Discount Cards</h3>
                    <p>Free prescription discount cards can save you up to 80% on medications.</p>
                    <a href="https://www.goodrx.com" target="_blank" rel="noopener noreferrer" class="resource-link">Visit GoodRx ‚Üí</a>
                </div>
                <div class="resource-card">
                    <h3>üè• Patient Assistance</h3>
                    <p>Pharmaceutical companies offer free or low-cost medications to those who qualify.</p>
                    <a href="https://www.needymeds.org" target="_blank" rel="noopener noreferrer" class="resource-link">Visit NeedyMeds ‚Üí</a>
                </div>
                <div class="resource-card">
                    <h3>üîç Price Comparison</h3>
                    <p>Compare live prices at local pharmacies to find the best deal.</p>
                    <a href="https://www.rxsaver.com" target="_blank" rel="noopener noreferrer" class="resource-link">Visit RxSaver ‚Üí</a>
                </div>

                <!--Need to find a new link.-->
                <!--<div class="resource-card">
                    <h3>üíä Generic Options</h3>
                    <p>Ask your doctor about generic alternatives that can cost significantly less.</p>
                    <a href="https://www.fda.gov/drugs/generic-drugs" target="_blank" class="resource-link">Learn More ‚Üí</a>
                </div> -->
                <div class="resource-card">
                    <h3>üìã Medicare Extra Help</h3>
                    <p>If you have Medicare, you may qualify for help paying for prescriptions.</p>
                    <a href="https://www.ssa.gov/benefits/medicare/prescriptionhelp.html" target="_blank" rel="noopener noreferrer" class="resource-link">Check Eligibility ‚Üí</a>
                </div>
                <div class="resource-card">
                    <h3>üè™ SC Free Clinics</h3>
                    <p>South Carolina has free and charitable clinics that may help with medications.</p>
                    <a href="https://www.scfreeclinics.org" target="_blank" rel="noopener noreferrer" class="resource-link">Find a Clinic ‚Üí</a>
                </div>
            </div>
    </div>

</body>
</html>